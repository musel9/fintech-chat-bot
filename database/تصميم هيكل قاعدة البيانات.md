# تصميم هيكل قاعدة البيانات

لإنشاء قاعدة بيانات بنكية وهمية شاملة، سنقوم بتصميم هيكل يغطي الجوانب الرئيسية للعمليات المصرفية، بما في ذلك بيانات العملاء، الحسابات، المعاملات، الموظفين، والإدارة. سيتكون الهيكل من الجداول التالية:

## 1. جدول العملاء (Customers)
يحتوي هذا الجدول على معلومات تفصيلية عن كل عميل.

| اسم العمود | نوع البيانات | الوصف |
|---|---|---|
| `customer_id` | `INTEGER` | معرف العميل الفريد (مفتاح أساسي) |
| `first_name` | `TEXT` | الاسم الأول للعميل |
| `last_name` | `TEXT` | الاسم الأخير للعميل |
| `date_of_birth` | `DATE` | تاريخ ميلاد العميل |
| `gender` | `TEXT` | جنس العميل (ذكر/أنثى) |
| `address` | `TEXT` | عنوان إقامة العميل |
| `city` | `TEXT` | المدينة |
| `state` | `TEXT` | الولاية/المحافظة |
| `zip_code` | `TEXT` | الرمز البريدي |
| `phone_number` | `TEXT` | رقم هاتف العميل |
| `email` | `TEXT` | البريد الإلكتروني للعميل (يجب أن يكون فريدًا) |
| `nationality` | `TEXT` | جنسية العميل |
| `id_type` | `TEXT` | نوع وثيقة الهوية (مثل: بطاقة هوية وطنية، جواز سفر) |
| `id_number` | `TEXT` | رقم وثيقة الهوية |
| `registration_date` | `DATE` | تاريخ تسجيل العميل في البنك |

## 2. جدول الحسابات (Accounts)
يحتوي هذا الجدول على معلومات عن الحسابات المصرفية لكل عميل.

| اسم العمود | نوع البيانات | الوصف |
|---|---|---|
| `account_id` | `INTEGER` | معرف الحساب الفريد (مفتاح أساسي) |
| `customer_id` | `INTEGER` | معرف العميل المرتبط بالحساب (مفتاح خارجي يربط بجدول `Customers`) |
| `account_type` | `TEXT` | نوع الحساب (مثل: توفير، جاري، استثمار) |
| `balance` | `REAL` | الرصيد الحالي للحساب |
| `currency` | `TEXT` | عملة الحساب (مثل: USD, EUR, SAR) |
| `opening_date` | `DATE` | تاريخ فتح الحساب |
| `status` | `TEXT` | حالة الحساب (مثل: نشط، مغلق، معلق) |

## 3. جدول المعاملات (Transactions)
يحتوي هذا الجدول على سجل بجميع المعاملات المالية.

| اسم العمود | نوع البيانات | الوصف |
|---|---|---|
| `transaction_id` | `INTEGER` | معرف المعاملة الفريد (مفتاح أساسي) |
| `account_id` | `INTEGER` | معرف الحساب المرتبط بالمعاملة (مفتاح خارجي يربط بجدول `Accounts`) |
| `transaction_type` | `TEXT` | نوع المعاملة (مثل: إيداع، سحب، تحويل، دفع فواتير) |
| `amount` | `REAL` | مبلغ المعاملة |
| `transaction_date` | `DATETIME` | تاريخ ووقت المعاملة |
| `description` | `TEXT` | وصف موجز للمعاملة |
| `status` | `TEXT` | حالة المعاملة (مثل: ناجحة، فاشلة، معلقة) |
| `recipient_account_id` | `INTEGER` | معرف الحساب المستلم (لعمليات التحويل، مفتاح خارجي اختياري) |

## 4. جدول الموظفين (Employees)
يحتوي هذا الجدول على معلومات عن موظفي البنك.

| اسم العمود | نوع البيانات | الوصف |
|---|---|---| 
| `employee_id` | `INTEGER` | معرف الموظف الفريد (مفتاح أساسي) |
| `first_name` | `TEXT` | الاسم الأول للموظف |
| `last_name` | `TEXT` | الاسم الأخير للموظف |
| `date_of_birth` | `DATE` | تاريخ ميلاد الموظف |
| `gender` | `TEXT` | جنس الموظف |
| `address` | `TEXT` | عنوان إقامة الموظف |
| `phone_number` | `TEXT` | رقم هاتف الموظف |
| `email` | `TEXT` | البريد الإلكتروني للموظف (يجب أن يكون فريدًا) |
| `position` | `TEXT` | المسمى الوظيفي (مثل: صراف، مدير فرع، مسؤول دعم فني) |
| `department` | `TEXT` | القسم الذي يعمل به الموظف |
| `hire_date` | `DATE` | تاريخ التوظيف |
| `salary` | `REAL` | راتب الموظف |

## 5. جدول الإدارة (Management)
يحتوي هذا الجدول على معلومات عن المناصب الإدارية العليا.

| اسم العمود | نوع البيانات | الوصف |
|---|---|---|
| `manager_id` | `INTEGER` | معرف المدير الفريد (مفتاح أساسي) |
| `employee_id` | `INTEGER` | معرف الموظف المرتبط بالمنصب الإداري (مفتاح خارجي يربط بجدول `Employees`) |
| `title` | `TEXT` | المسمى الإداري (مثل: الرئيس التنفيذي، المدير المالي، رئيس قسم) |
| `start_date` | `DATE` | تاريخ بدء المنصب الإداري |
| `end_date` | `DATE` | تاريخ انتهاء المنصب الإداري (إذا كان مؤقتًا) |

## 6. جدول الفروع (Branches)
يحتوي هذا الجدول على معلومات عن فروع البنك.

| اسم العمود | نوع البيانات | الوصف |
|---|---|---|
| `branch_id` | `INTEGER` | معرف الفرع الفريد (مفتاح أساسي) |
| `branch_name` | `TEXT` | اسم الفرع |
| `address` | `TEXT` | عنوان الفرع |
| `city` | `TEXT` | مدينة الفرع |
| `state` | `TEXT` | ولاية/محافظة الفرع |
| `zip_code` | `TEXT` | الرمز البريدي للفرع |
| `phone_number` | `TEXT` | رقم هاتف الفرع |

## 7. جدول القروض (Loans)
يحتوي هذا الجدول على معلومات عن القروض الممنوحة للعملاء.

| اسم العمود | نوع البيانات | الوصف |
|---|---|---|
| `loan_id` | `INTEGER` | معرف القرض الفريد (مفتاح أساسي) |
| `customer_id` | `INTEGER` | معرف العميل المقترض (مفتاح خارجي يربط بجدول `Customers`) |
| `loan_type` | `TEXT` | نوع القرض (مثل: شخصي، عقاري، سيارة) |
| `amount` | `REAL` | مبلغ القرض الأصلي |
| `interest_rate` | `REAL` | سعر الفائدة |
| `term_months` | `INTEGER` | مدة القرض بالشهور |
| `start_date` | `DATE` | تاريخ بدء القرض |
| `end_date` | `DATE` | تاريخ انتهاء القرض |
| `status` | `TEXT` | حالة القرض (مثل: نشط، مدفوع بالكامل، متعثر) |

## 8. جدول الدفعات (Payments)
يحتوي هذا الجدول على سجل بجميع دفعات القروض.

| اسم العمود | نوع البيانات | الوصف |
|---|---|---|
| `payment_id` | `INTEGER` | معرف الدفعة الفريد (مفتاح أساسي) |
| `loan_id` | `INTEGER` | معرف القرض المرتبط بالدفعة (مفتاح خارجي يربط بجدول `Loans`) |
| `payment_date` | `DATE` | تاريخ الدفعة |
| `amount` | `REAL` | مبلغ الدفعة |
| `principal_paid` | `REAL` | جزء المبلغ الأصلي المدفوع |
| `interest_paid` | `REAL` | جزء الفائدة المدفوعة |

## العلاقات بين الجداول

*   **Customers (1) -- (M) Accounts**: العميل الواحد يمكن أن يمتلك عدة حسابات.
*   **Accounts (1) -- (M) Transactions**: الحساب الواحد يمكن أن يحتوي على عدة معاملات.
*   **Employees (1) -- (0 or 1) Management**: الموظف الواحد يمكن أن يكون له منصب إداري واحد (أو لا شيء).
*   **Customers (1) -- (M) Loans**: العميل الواحد يمكن أن يحصل على عدة قروض.
*   **Loans (1) -- (M) Payments**: القرض الواحد يمكن أن يكون له عدة دفعات.
*   **Branches (1) -- (M) Employees**: الفرع الواحد يمكن أن يضم عدة موظفين.

هذا الهيكل يوفر أساسًا قويًا لقاعدة بيانات بنكية وهمية شاملة، قابلة للتوسع والتعديل لتلبية متطلبات مختلفة.

